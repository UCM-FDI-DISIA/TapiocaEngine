\doxysection{Variant\+Stack.\+h}
\hypertarget{_variant_stack_8h_source}{}\label{_variant_stack_8h_source}\index{src/Bridge/VariantStack.h@{src/Bridge/VariantStack.h}}
\mbox{\hyperlink{_variant_stack_8h}{Ir a la documentaci√≥n de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{00002\ \textcolor{preprocessor}{\#include\ <detail/Stack.h>}}
\DoxyCodeLine{00003\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{component_defs_8h}{componentDefs.h}}"{}}}
\DoxyCodeLine{00004\ }
\DoxyCodeLine{00005\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceluabridge}{luabridge}}\ \{}
\DoxyCodeLine{00006\ \textcolor{keyword}{template}<>}
\DoxyCodeLine{00007\ \textcolor{keyword}{struct\ }Stack<\mbox{\hyperlink{component_defs_8h_a0426fa9b017bbddc2bf42316fc590fd7}{CompValue}}>\ \{}
\DoxyCodeLine{00008\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{static}\ Result\ \mbox{\hyperlink{structluabridge_1_1_stack_3_01_comp_value_01_4_a0ee29868d142f8e402448c0241e4650c}{push}}(lua\_State*\ L,\ \mbox{\hyperlink{component_defs_8h_a0426fa9b017bbddc2bf42316fc590fd7}{CompValue}}\ value)\ \{}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#if\ LUABRIDGE\_SAFE\_STACK\_CHECKS}}
\DoxyCodeLine{00010\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!lua\_checkstack(L,\ 1))\ \textcolor{keywordflow}{return}\ makeErrorCode(ErrorCode::LuaStackOverflow);}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00012\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{switch}\ (value.index())\ \{}
\DoxyCodeLine{00013\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 0:\ \textcolor{keywordflow}{return}\ Stack<char>::push(L,\ std::get<char>(value));}
\DoxyCodeLine{00014\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 1:\ \textcolor{keywordflow}{return}\ Stack<int>::push(L,\ std::get<int>(value));}
\DoxyCodeLine{00015\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 2:\ \textcolor{keywordflow}{return}\ Stack<float>::push(L,\ std::get<float>(value));}
\DoxyCodeLine{00016\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 3:\ \textcolor{keywordflow}{return}\ Stack<bool>::push(L,\ std::get<bool>(value));}
\DoxyCodeLine{00017\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 4:\ \textcolor{keywordflow}{return}\ Stack<std::string>::push(L,\ std::get<std::string>(value));}
\DoxyCodeLine{00018\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{case}\ 5:\ \textcolor{keywordflow}{return}\ Stack<std\ ::nullptr\_t>::push(L,\ std::get<std::nullptr\_t>(value));}
\DoxyCodeLine{00019\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{default}:\ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00020\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00021\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO\ Mirar\ si\ hay\ otro\ codigo\ de\ error\ mejor}}
\DoxyCodeLine{00022\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ makeErrorCode(ErrorCode::InvalidTypeCast);}
\DoxyCodeLine{00023\ \ \ \ \ \}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{static}\ TypeResult<CompValue>\ \mbox{\hyperlink{structluabridge_1_1_stack_3_01_comp_value_01_4_ae9915e77b1f9e26c808db51c5f88ce4e}{get}}(lua\_State*\ L,\ \textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (lua\_isboolean(L,\ index))\ \{}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ lua\_toboolean(L,\ index)\ ==\ 1;}
\DoxyCodeLine{00028\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (lua\_isinteger(L,\ index))\ \{}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{int})lua\_tointeger(L,\ index);}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (lua\_isnumber(L,\ index))\ \{}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{float})lua\_tonumber(L,\ index);}
\DoxyCodeLine{00034\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00035\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (lua\_isstring(L,\ index))\ \{}
\DoxyCodeLine{00036\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ lua\_tostring(L,\ index);}
\DoxyCodeLine{00037\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (lua\_isnil(L,\ index))\ \{}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00040\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00041\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ TODO\ Mirar\ si\ hay\ otro\ codigo\ de\ error\ mejor}}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ makeErrorCode(ErrorCode::InvalidTypeCast);}
\DoxyCodeLine{00043\ \ \ \ \ \}}
\DoxyCodeLine{00044\ }
\DoxyCodeLine{00045\ \ \ \ \ [[nodiscard]]\ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structluabridge_1_1_stack_3_01_comp_value_01_4_a2a7d397a86b5a21449b0027c38fc1d88}{isInstance}}(lua\_State*\ L,\ \textcolor{keywordtype}{int}\ index)\ \{\ \textcolor{keywordflow}{return}\ lua\_isstring(L,\ index);\ \}}
\DoxyCodeLine{00046\ \};}
\DoxyCodeLine{00047\ \}}

\end{DoxyCode}
